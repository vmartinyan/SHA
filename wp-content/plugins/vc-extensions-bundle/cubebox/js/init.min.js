jQuery(document).ready(function(a){function b(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return b>0||navigator.userAgent.match(/Trident.*rv\:11\./)?!0:!1}a(".cq-twoface-box-container").each(function(){function u(){"bottomtop"!=k||"200px"==l||b()||(d.find(s).css({"-webkit-transform":"translateZ("+.5*l+"px)","-moz-transform":"translateZ("+.5*l+"px)","-ms-transform":"translateZ("+.5*l+"px)",transform:"translateZ("+.5*l+"px)"}),d.find(t).css({"-webkit-transform":"rotateX(-90deg) translateZ("+.5*l+"px)","-moz-transform":"rotateX(-90deg) translateZ("+.5*l+"px)","-ms-transform":"rotateX(-90deg) translateZ("+.5*l+"px)",transform:"rotateX(-90deg) translateZ("+.5*l+"px)"})),"bottomtop"==k||b()||(d.find(s).css({"-webkit-transform":"translateZ("+.5*d.find(".cq-twoface-box").width()+"px)","-moz-transform":"translateZ("+.5*d.find(".cq-twoface-box").width()+"px)","-ms-transform":"translateZ("+.5*d.find(".cq-twoface-box").width()+"px)",transform:"translateZ("+.5*d.find(".cq-twoface-box").width()+"px)"}),d.find(t).css({"-webkit-transform":"rotateY(-90deg) translateZ("+(.5*d.find(".cq-twoface-box").width()-1)+"px)","-moz-transform":"rotateY(-90deg) translateZ("+(.5*d.find(".cq-twoface-box").width()-1)+"px)","-ms-transform":"rotateY(-90deg) translateZ("+(.5*d.find(".cq-twoface-box").width()-1)+"px)",transform:"rotateY(-90deg) translateZ("+(.5*d.find(".cq-twoface-box").width()-1)+"px)"}))}function w(){clearTimeout(v),v=setTimeout(function(){x?d.trigger("mouseleave"):d.trigger("mouseover")},1e3*p)}var f,d=a(this),e=a(this).find(".cq-twoface-box"),g=a(this).data("frontbg"),h=a(this).data("backbg"),i=a(this).data("iconcolor"),j=a(this).data("contentcolor")||a(this).data("fontcolor"),k=a(this).data("cubedirection"),l=a(this).data("cubeheight")||"200px",m=parseInt(a(this).data("avatarsize")||"80",10),n=a(this).data("contentsize"),o=a(this).data("contentwidth"),p=parseInt(a(this).data("rotatecube")),q=a(this).data("cubewidth"),r=a(this).data("cubemargin");d.css({margin:r});var s="."+a(this).data("face1"),t="."+a(this).data("face2");a(this).find(s).css("background-color",g),a(this).find(t).css("background-color",h),e.css({width:q,height:l}),d.find(".cq-face-item").css("font-size",n),d.find(".cq-face-avatar").css({color:i,width:m,height:m,"font-size":m,"line-height":m+"px"}),b()&&d.find(t).css({"-ms-transform":"rotateY(0deg) translateZ(0)",transform:"rotateY(0deg) translateZ(0)"}),a(window).on("resize",function(){"bottomtop"!=k&&u()}),u();var v=0;p>0&&w(),a(this).find(".cq-face-content").css({color:j,width:o}),a(this).find(".cq-face-content .cq-face-title").css("color",j);var x=!1;a(this).on("mouseover",function(){x=!0,clearTimeout(v),b()?"bottomtop"==k?e.removeClass("showfront_ie").addClass("showback_ie"):e.removeClass("showleft_ie").addClass("showright_ie"):"bottomtop"==k?e.removeClass("showfront").addClass("showback"):e.removeClass("showleft").addClass("showright"),e.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){p>0&&w()})}).on("mouseleave",function(){clearTimeout(f),clearTimeout(v),x=!1,f=setTimeout(function(){b()?"bottomtop"==k?e.removeClass("showback_ie").addClass("showfront_ie"):e.removeClass("showright_ie").addClass("showleft_ie"):"bottomtop"==k?e.removeClass("showback").addClass("showfront"):e.removeClass("showright").addClass("showleft"),e.one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){p>0&&w()})},300)})})});